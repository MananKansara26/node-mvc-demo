<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= movie.title %> Details</title>
    <link rel="stylesheet" href="/css/movie.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/movie.js"></script>
  </head>
  <body>
    <div class="details-container">
      <div class="movie-details">
        <img src="<%= movie.poster ? movie.poster : 'https://t3.ftcdn.net/jpg/04/64/78/74/360_F_464787423_mFNIhM8f00HagGgI2eGzsf3wevZhPHCC.jpg' %>" alt="<%= movie.title %>" class="movie-poster" />
        <div class="movie-info">
          <h1><%= movie.title %></h1>

          <% if (movie.fullplot) { %>
          <p><strong>Plot:</strong> <%= movie.fullplot %></p>
          <% } %>

          <% if (movie.genres && movie.genres.length) { %>
          <p><strong>Genres:</strong> <%= movie.genres.join(', ') %></p>
          <% } %>

          <% if (movie.released) { %>
          <p><strong>Released:</strong> <%= new Date(movie.released).toDateString() %></p>
          <% } %>

          <% if (movie.cast && movie.cast.length) { %>
          <p><strong>Cast:</strong> <%= movie.cast.join(', ') %></p>
          <% } %>

          <% if (movie.directors && movie.directors.length) { %>
          <p><strong>Directors:</strong> <%= movie.directors.join(', ') %></p>
          <% } %>

          <% if (movie.writers && movie.writers.length) { %>
          <p><strong>Writers:</strong> <%= movie.writers.join(', ') %></p>
          <% } %>

          <% if (movie.languages && movie.languages.length) { %>
          <p><strong>Languages:</strong> <%= movie.languages.join(', ') %></p>
          <% } %>

          <% if (movie.imdb && movie.imdb.rating) { %>
          <p>
            <strong>IMDb:</strong>
            <span class="highlight"><%= movie.imdb.rating %></span>
            / 10 (<%= movie.imdb.votes %> reviews)
          </p>
          <% } %>

          <% if (movie.runtime) { %>
          <p><strong>Runtime:</strong> <%= movie.runtime %> minutes</p>
          <% } %>
          
          <button class="back-button" id="back-button">Back</button>
        </div>
      </div>
    </div>
  </body>
</html>
